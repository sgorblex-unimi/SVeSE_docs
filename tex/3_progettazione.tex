%% Copyright (C) 2022 Alessandro "Sgorblex" Clerici Lorenzini and Edoardo "Miniman" Della Rossa
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3 or later is part of all distributions of LaTeX
% version 2005/12/01 or later.
%
% This work has the LPPL maintenance status `maintained'.
%
% The Current Maintainer of this work is Alessandro Clerici Lorenzini
%
% This work consists of the files listed in work.txt


\chapter{Progettazione del sistema}




\section{Diagrammi}\label{diagrammi}


\subsection{Diagramma dei casi d'uso}
Si faccia riferimento alla figura \ref{fig:usecasediag}.
\begin{figure}[ht]
	\centering
	\includegraphics[width=\textwidth]{UML/usecase.eps}
	\caption{Diagramma dei casi d'uso.}
	\label{fig:usecasediag}
\end{figure}


\subsubsection{Scenario: Voto}
\begin{description}
	\item[Nome] Votare
	\item[Scopo] Il votante esprime il suo suffragio tramite il sistema. È possibile votare di persona nei seggi o a distanza online.
	\item[Attore/i] Votante
	\item[Pre-condizioni] Autenticazione (fisica o virtuale) del votante. Nel caso di voto in presenza, attivazione della postazione da parte del Responsabile di seggio.
	\item[Trigger] Azione del votante
	\item[Descrizione sequenza eventi] ~
		\begin{description}
			\item[Online] Il votante si autentica con la sua identità digitale sul sistema. Dopo un messaggio informativo, al votante viene mostrata la scheda elettorale, su cui esprime il suffragio secondo le modalità previste. Il votante conferma le proprie scelte prima nella vista della scheda e poi in una schermata di riepilogo (la cui non dà prova del contenuto del suffragio espresso). Il sistema conferma l'avvenuta ricezione del voto, dopodiché il votante può terminare la connessione.
			\item[Di persona] Il votante viene identificato dal personale presente. Il Responsabile di Seggio abilità una postazione per il votante. Le modalità di compilazione della scheda sono analoghe a quelle a distanza, ad eccezione della procedura di autenticazione virtuale, assente. Espresso il suffragio, il Responsabile conferma l'invio (certificando così l'autenticità), dopodiché il votante può lasciare il Seggio;
		\end{description}
	\item[Alternativa/e] Nessuna.
	\item[Post-condizioni] Il voto espresso dal votante è registrato nel sistema.
\end{description}

\subsubsection{Scenario: Inizializzazione della Sessione di Voto}
\begin{description}
	\item[Nome] Inizio S.V.
	\item[Scopo] Dare inizio alla Sessione di Voto, permettendo agli elettori di esprimere il proprio suffragio.
	\item[Attore/i] Amministratore della Sessione di Voto, Garanti
	\item[Pre-condizioni] Registrazione dei Garanti e dell'Amministratore della Sessione di Voto, creazione della scheda e configurazione della Sessione da parte dell'Amministratore.
	\item[Trigger] Azione diretta dell'Amministratore.
	\item[Descrizione sequenza eventi] L'Amministratore termina la configurazione della Sessione. I Garanti verificano che le schede elettorali e le impostazioni della Sessione siano consone con i termini della votazione e danno la loro conferma tramite il Sistema. Una volta che tutti i Garanti hanno dato la loro conferma, l'Amministratore può dare il via alla Sessione.
	\item[Alternativa/e] Nessuna.
	\item[Post-condizioni] Sessione di Voto pienamente funzionante.
\end{description}


\subsection{Diagramma delle classi di progetto}
\label{subsec:projclassdiag}
Nella figura \ref{fig:classdiag} è riportato il diagramma delle classi di progetto, che rappresenta la struttura gerarchica e l'impostazione data al sistema. Per informazioni più specifiche sull'implementazione consultare il diagramma delle classi di programma alla sezione \ref{implclassi}.
\begin{figure}[ht]
	\centering
	\includegraphics[width=\textwidth]{UML/class.eps}
	\caption{Diagramma delle classi.}
	\label{fig:classdiag}
\end{figure}



\subsection{Diagrammi di sequenza}
Alla figura \ref{fig:seqdiagvota} è possibile consultare il diagramma di sequenza delle operazioni di voto e mentre alla figura \ref{fig:seqdiagcreate} il diagramma di sequenza dell'operazione di creazione di una sessione.
La figura \ref{fig:seqdiagapprova} è il diagramma di sequenza dell'approvazione della sessione da parte dei garanti, mentre la figura \ref{fig:seqdiagconsult} è il diagramma di sequenza delle operazioni di consultazioni dei risultati.

\begin{figure}[ht]
	\centering
	\includegraphics[width=\textwidth]{UML/seqVota.eps}
	\caption{Diagramma di sequenza dell'operazione di voto}
	\label{fig:seqdiagvota}
\end{figure}

\begin{figure}[ht]
	\centering
	\includegraphics[width=\textwidth]{UML/seqCreate.eps}
	\caption{Diagramma di sequenza delle operazioni di creazione di una sessione}
	\label{fig:seqdiagcreate}
\end{figure}

\begin{figure}[ht]
	\centering
	\includegraphics[width=.8\textwidth]{UML/seqApprova.eps}
	\caption{Diagramma di sequenza dell'approvazione della sessione da parte dei garanti}
	\label{fig:seqdiagapprova}
\end{figure}

\begin{figure}[ht]
	\centering
	\includegraphics[width=.7\textwidth]{UML/seqConsult.eps}
	\caption{Diagramma di sequenza della consultazione dei risultati}
	\label{fig:seqdiagconsult}
\end{figure}


\subsection{Diagrammi di attività}
Si faccia riferimento alla figura \ref{fig:activitydiagcreate} per il diagramma di attività delle operazioni dell'amministratore per la creazione di un nuova sessione e alla figura \ref{fig:activitydiagvote} per il diagramma di attività delle operazioni di voto.
\begin{figure}[ht]
		\centering
		\subfloat[][Diagramma dell'attività di creazione di una sessione]{
		\includegraphics[width=.56\textwidth]{UML/activityCreate.eps}}
		\subfloat[][Diagramma dell'attività delle operazioni di voto]{
		\includegraphics[width=.42\textwidth]{UML/activityVote.eps}}
		\caption{Diagrammi di attività}
		\label{fig:activitydiagcreate}
		\label{fig:activitydiagvote}
\end{figure}


\subsection{Macchine a stati finiti}
Si faccia riferimento alle figure \ref{fig:fsm} e \ref{fig:sessionCreatedFsm}.
\begin{figure}[ht]
	\centering
	\includegraphics[width=.5\textwidth]{UML/fsm.eps}
	\caption{Diagramma FSM del sistema}
	\label{fig:fsm}
\end{figure}
\begin{figure}[ht]
	\centering
	\includegraphics[width=.7\textwidth]{UML/sessioncreatedfsm.eps}
	\caption{Diagramma FSM del sistema una volta creata una sessione}
	\label{fig:sessionCreatedFsm}
\end{figure}


\subsection{Diagramma dei componenti}
Si faccia riferimento alla figura \ref{fig:component}.

\begin{figure}[ht]
	\centering
	\includegraphics[width=.5\textwidth]{UML/component.eps}
	\caption{Diagramma dei componenti del sistema di voto}
	\label{fig:component}
\end{figure}
